!function a(r,l,c){function s(e,t){if(!l[e]){if(!r[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(d)return d(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=l[e]={exports:{}};r[e][0].call(i.exports,function(t){return s(r[e][1][t]||t)},i,i.exports,a,r,l,c)}return l[e].exports}for(var d="function"==typeof require&&require,t=0;t<c.length;t++)s(c[t]);return s}({1:[function(n,i,t){(function(t){"use strict";var e,o=(e=n("./libs/blocky"))&&e.__esModule?e:{default:e};i.exports=o.default,t.self&&t.self instanceof Object&&t.self===t.self.self&&(t.self.Blocky=o.default)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./libs/blocky":2}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n,r=t("./event-handler"),i=(n=t("./types"))&&n.__esModule?n:{default:n},f=t("./stdlib"),a=t("./shape");function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,o){return e&&s(t.prototype,e),o&&s(t,o),t}function h(t){var n="function"==typeof Map?new Map:void 0;return(h=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,o)}function o(){return u(t,arguments,y(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),p(o,t)})(t)}function u(t,e,o){return(u=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}}()?Reflect.construct:function(t,e,o){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return o&&p(i,o.prototype),i}).apply(null,arguments)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var o=[],n=!0,i=!1,a=void 0;try{for(var r,l=t[Symbol.iterator]();!(n=(r=l.next()).done)&&(o.push(r.value),!e||o.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}return o}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function T(t){var e=t.clientX,o=t.clientY,n=t.touches,i=x(n=void 0===n?[]:n,1)[0],a=(i=void 0===i?{}:i).clientX,r=void 0===a?e:a,l=i.clientY;return[r,void 0===l?o:l]}var b={last:"last",next:"next",parent:"parent",child:"child"};Object.freeze(b);var B={type:"type",disabled:"disabled",attract:"attract",last:"last-linked",next:"next-linked",parent:"parent-linked",child:"child-linked",focused:"focused",x:"x",y:"y"};Object.freeze(B);var v=20,g=null,_=function(){function m(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),(n=c(this,y(m).call(this))).__shadowRoot=n.attachShadow({mode:"open"}),n.__selfMutationCallback=function(){for(var t=0;t<n.children.length;t++){var e=n.children[t];if(e instanceof m&&!e.disabled){var o=e.type;switch(o){case m.TYPE.expressionHole:continue}n.childableBlockyTypes.includes(o)?n.linkBlocky("child",e):n.nextableBlockyTypes.includes(o)&&n.linkBlocky("next",e)}}},n.__selfMutationObserver=new MutationObserver(n.__selfMutationCallback),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(m,h(HTMLElement)),d(m,null,[{key:"getReversedLinkType",value:function(t){switch(t){case m.LINK_TYPE.last:return m.LINK_TYPE.next;case m.LINK_TYPE.next:return m.LINK_TYPE.last;case m.LINK_TYPE.parent:return m.LINK_TYPE.child;case m.LINK_TYPE.child:return m.LINK_TYPE.parent}}},{key:"escapeBlockyFrom",value:function(t,e,o){var n=[0,0],i=null;switch(e){case m.LINK_TYPE.last:i=o.nextBlockyContainerDOM;break;case m.LINK_TYPE.parent:i=o.childBlockyContainerDOM}var a=o.rootestBlocky.parentNode;if(a.appendChild(t),n[0]+=a.scrollLeft,n[1]+=a.scrollTop,i){var r=i.getBoundingClientRect(),l=r.x,c=r.y;n[0]+=l,n[1]+=c}n[0]-=t.offsetLeft,n[1]-=t.offsetTop,t.setBlockyOffset(n[0],n[1]),o.unlinkBlocky(m.getReversedLinkType(e))}},{key:"dragstartEventListener",value:function(t){function e(){return t.stopImmediatePropagation()}var c=this.parentNode.host;if(t.stopPropagation(),t.preventDefault(),c.disabled)return e();switch(c.type){case m.TYPE.expressionHole:return e()}c.unlinkBlocky(m.LINK_TYPE.parent)||c.unlinkBlocky(m.LINK_TYPE.last);function o(){var t=c.parentNode.querySelectorAll(":scope > ".concat(m.nodeName));d=[];for(var e=t.length-1;0<=e;e--){for(var o=t[e],n=o.querySelectorAll(m.nodeName),i=[o],a=n.length-1;0<=a;a--)i.push(n[a]);for(var r=i.length-1;0<=r;r--){var l=i[r];l===c||l.disabled||d.includes(l)||!s.includes(l.type)||d.push(l)}}h=d.map(function(t){return t.blockyContainerDOM.getBoundingClientRect()})}var s=c.rootableBlockyTypes.concat(c.nextBlocky?[]:c.nextableBlockyTypes),d=[],h=[];c.__eventMutationObserver=new MutationObserver(o),c.__eventMutationObserver.observe(c.parentNode,{childList:!0}),o();function n(t){var e=x(T(t),2),o=e[0],n=e[1],i={x:o-u+y,y:n-p+f,width:k,height:b},a=h.reduce(function(t,e,o){var n=c.linkBlockyTest(d[o],{targetRect:e,selfRect:i});return t.distance<n.distance?t:n},{distance:1/0});if(v&&v.target.blocky.removeAttribute(B.attract),a.distance<m.attractDistance){var r=a.target.blocky,l=a.linkType;r.setAttribute(B.attract,m.getReversedLinkType(l)),v=a}else v=null;c.addBlockyOffset(o-g,n-_),g=o,_=n}var i=x(T(t),2),u=i[0],p=i[1],a=c.blockyContainerDOM.getBoundingClientRect(),y=a.x,f=a.y,k=a.width,b=a.height,v=null,g=u,_=p;c.style.zIndex=10,c.setAttribute(B.focused,""),(0,r.addGlobalListener)(r.TYPES.dragMove,n),(0,r.addGlobalListener)(r.TYPES.dragEnd,function(){if(c.__eventMutationObserver.disconnect(),c.style.zIndex="",d.forEach(function(t){t.removeAttribute(B.attract)}),(0,r.removeGlobalListener)(r.TYPES.dragMove),(0,r.removeGlobalListener)(r.TYPES.dragEnd),v){var t=v.target.blocky,e=v.linkType;c.linkBlocky(e,t)}c.parentNode&&(c.parentNode.appendChild(c),c.removeAttribute(B.focused))}),n(t)}},{key:"observedAttributes",get:function(){return[B.type,B.relative]}},{key:"nodeName",get:function(){return"blocky-block"}},{key:"attractDistance",get:function(){return v},set:function(t){var e=parseFloat(t);if(isNaN(e))throw new Error("Invalid attract distance: ".concat(l(t)));if(e<0)throw new Error("Illegal attract distance: ".concat(t));v=t}},{key:"onSetBlockyOffset",get:function(){return g},set:function(t){if(!(0,f.isfunc)(t))throw new Error("Invalid callback function: ".concat(l(t)));g=t}}]),d(m,[{key:"connectedCallback",value:function(){switch(this.removeAttribute(B.focused),this.__selfMutationObserver.observe(this,{childList:!0}),this.__selfMutationCallback(),this.type){default:var t=this.layersOfBlocky;this.style.setProperty("--layers",t),this.style.setProperty("--layers-odd",t%2);break;case m.TYPE.expressionHole:}(0,r.addListener)(this.blockyContainerDOM,r.TYPES.dragStart,m.dragstartEventListener)}},{key:"disconnectedCallback",value:function(){this.__eventMutationObserver&&this.__eventMutationObserver.disconnect(),this.__selfMutationObserver.disconnect(),(0,r.removeListener)(this.blockyContainerDOM,r.TYPES.dragStart,m.dragstartEventListener)}},{key:"attributeChangedCallback",value:function(t){switch(t){case B.type:switch(this.unlinkAllBlockys(),this.__lastable=[],this.__nextable=[],this.__parentable=[],this.__childable=[],this.type){case m.TYPE.stackTop:this.__shadowRoot.appendChild(a.shapeStackTop.content.cloneNode(!0)),this.__nextable=[m.TYPE.stackMiddle,m.TYPE.stackBottom,m.TYPE.composite];break;case m.TYPE.stackMiddle:this.__shadowRoot.appendChild(a.shapeStackMiddle.content.cloneNode(!0)),this.__lastable=[m.TYPE.stackTop,m.TYPE.stackMiddle,m.TYPE.composite],this.__nextable=[m.TYPE.stackMiddle,m.TYPE.composite,m.TYPE.stackBottom];break;case m.TYPE.stackBottom:this.__shadowRoot.appendChild(a.shapeStackBottom.content.cloneNode(!0)),this.__lastable=[m.TYPE.stackTop,m.TYPE.stackMiddle,m.TYPE.composite];break;case m.TYPE.composite:this.__shadowRoot.appendChild(a.shapeComposite.content.cloneNode(!0)),this.__lastable=[m.TYPE.stackTop,m.TYPE.stackMiddle,m.TYPE.composite],this.__nextable=[m.TYPE.stackMiddle,m.TYPE.composite,m.TYPE.stackBottom],this.__childable=[m.TYPE.contained];break;case m.TYPE.contained:this.__shadowRoot.appendChild(a.shapeContained.content.cloneNode(!0)),this.__lastable=[m.TYPE.contained],this.__nextable=[m.TYPE.contained],this.__parentable=[m.TYPE.composite];break;case m.TYPE.expression:this.__shadowRoot.appendChild(a.shapeExpression.content.cloneNode(!0)),this.__parentable=[m.TYPE.expressionHole];break;case m.TYPE.expressionHole:this.__shadowRoot.appendChild(a.shapeExpressionHole.content.cloneNode(!0)),this.__childable=[m.TYPE.expression]}}}},{key:"adoptedCallback",value:function(){}},{key:"getBlockyOffset",value:function(){var t=(0,f.stdFloat)(this.__x),e=(0,f.stdFloat)(this.__y);return[isNaN(t)?0:t,isNaN(e)?0:e]}},{key:"setBlockyOffset",value:function(t,e){this.__x=(0,f.stdFloat)(t),this.__y=(0,f.stdFloat)(e),g?g.call(this,this.__x,this.__y):this.blockyContainerDOM.style.transform="translate(".concat(this.__x,"px, ").concat(this.__y,"px)")}},{key:"addBlockyOffset",value:function(t,e){var o=x(this.getBlockyOffset(),2),n=o[0],i=o[1];this.setBlockyOffset(n+t,i+e)}},{key:"linkBlockyTest",value:function(t,e){var o=1<arguments.length&&void 0!==e?e:{},n=o.targetRect,i=void 0===n?t.blockyContainerDOM.getBoundingClientRect():n,a=o.selfRect,r=void 0===a?this.blockyContainerDOM.getBoundingClientRect():a,l=t.type,c={distance:1/0,linkType:null,target:{type:l,blocky:t},self:{type:this.type,blocky:this}};if(this.lastableBlockyTypes.includes(l)&&!t.nextBlocky){var s=t.nextBlockyContainerDOM.getBoundingClientRect(),d=(0,f.pointDist)([r.x,r.y],[s.x,s.y]);d<c.distance&&(c.distance=d,c.linkType=m.LINK_TYPE.last)}if(this.nextableBlockyTypes.includes(l)&&!t.lastBlocky){var h=this.nextBlockyContainerDOM.getBoundingClientRect(),u=(0,f.pointDist)([h.x,h.y],[i.x,i.y]);u<c.distance&&(c.distance=u,c.linkType=m.LINK_TYPE.next)}if(this.parentableBlockyTypes.includes(l)&&!t.childBlocky){var p=t.childBlockyContainerDOM.getBoundingClientRect(),y=(0,f.pointDist)([r.x,r.y],[p.x,p.y]);y<c.distance&&(c.distance=y,c.linkType=m.LINK_TYPE.parent)}return c}},{key:"linkBlocky",value:function(t,e){switch(t){case m.LINK_TYPE.last:this.lastBlocky!==e&&(this.unlinkBlocky(t),this.__last=e,this.setBlockyOffset(0,0),this.setAttribute(B.last,e.type),e.linkBlocky(m.getReversedLinkType(t),this));break;case m.LINK_TYPE.next:e.setAttribute("slot","next"),this.nextBlocky!==e&&(this.unlinkBlocky(t),this.__next=e,this.appendChild(e),this.setAttribute(B.next,e.type),e.linkBlocky(m.getReversedLinkType(t),this));break;case m.LINK_TYPE.parent:this.parentBlocky!==e&&(this.unlinkBlocky(t),this.__parent=e,this.setBlockyOffset(0,0),this.setAttribute(B.parent,e.type),e.linkBlocky(m.getReversedLinkType(t),this));break;case m.LINK_TYPE.child:e.setAttribute("slot","child"),this.childBlocky!==e&&(this.unlinkBlocky(t),this.__child=e,this.appendChild(e),this.setAttribute(B.child,e.type),e.linkBlocky(m.getReversedLinkType(t),this))}}},{key:"unlinkBlocky",value:function(t){switch(t){case m.LINK_TYPE.last:if(this.removeAttribute("slot"),this.lastBlocky){var e=this.lastBlocky;return this.__last=null,this.removeAttribute(B.last),m.escapeBlockyFrom(this,t,e),e}break;case m.LINK_TYPE.next:if(this.nextBlocky){var o=this.nextBlocky;return this.__next=null,this.removeAttribute(B.next),o.unlinkBlocky(m.getReversedLinkType(t)),o}break;case m.LINK_TYPE.parent:if(this.removeAttribute("slot"),this.parentBlocky){var n=this.parentBlocky;return this.__parent=null,this.removeAttribute(B.parent),m.escapeBlockyFrom(this,t,n),n}break;case m.LINK_TYPE.child:if(this.childBlocky){var i=this.childBlocky;return this.__child=null,this.removeAttribute(B.child),i.unlinkBlocky(m.getReversedLinkType(t)),i}}return null}},{key:"unlinkAllBlockys",value:function(){var e=this;Object.keys(m.LINK_TYPE).forEach(function(t){return e.unlinkBlocky(m.LINK_TYPE[t])})}},{key:"type",set:function(t){switch(t){case m.TYPE.stackTop:case m.TYPE.stackMiddle:case m.TYPE.stackBottom:case m.TYPE.composite:case m.TYPE.contained:case m.TYPE.expression:case m.TYPE.expressionHole:this.setAttribute(B.type,t);break;default:throw new Error("Invalid type: ".concat(l(t)))}},get:function(){return this.getAttribute(B.type)}},{key:"disabled",set:function(t){t?this.setAttribute(B.disabled,""):this.removeAttribute(B.disabled)},get:function(){return this.hasAttribute(B.disabled)}},{key:"lastableBlockyTypes",get:function(){return this.__lastable.concat()}},{key:"nextableBlockyTypes",get:function(){return this.__nextable.concat()}},{key:"parentableBlockyTypes",get:function(){return this.__parentable.concat()}},{key:"childableBlockyTypes",get:function(){return this.__childable.concat()}},{key:"rootableBlockyTypes",get:function(){return this.lastableBlockyTypes.concat(this.parentableBlockyTypes)}},{key:"leafableBlockyTypes",get:function(){return this.nextableBlockyTypes.concat(this.childableBlockyTypes)}},{key:"attractableBlockyTypes",get:function(){return this.rootableBlockyTypes.concat(this.leafableBlockyTypes)}},{key:"lastBlocky",get:function(){return this.__last||null}},{key:"nextBlocky",get:function(){return this.__next||null}},{key:"parentBlocky",get:function(){return this.__parent||null}},{key:"childBlocky",get:function(){return this.__child||null}},{key:"blockyContainerDOM",get:function(){return this.__shadowRoot.querySelector(".block")}},{key:"nextBlockyContainerDOM",get:function(){return this.blockyContainerDOM.querySelector('[data-container="next"]')}},{key:"childBlockyContainerDOM",get:function(){return this.blockyContainerDOM.querySelector('[data-container="child"]')}},{key:"rootestBlocky",get:function(){for(var t=this;t;){var e=t.parentNode;if(!(e instanceof m))return t;t=e}}},{key:"layersOfBlocky",get:function(){for(var t=0,e=this;e;){var o=e.parentNode;if(!(o instanceof m))return t;switch((e=o).type){default:t++;break;case m.TYPE.expressionHole:}}}},{key:"nextBlockys",get:function(){for(var t=[],e=this.nextBlocky;e;)t.push(e),e=e.nextBlocky;return t}},{key:"nextestBlocky",get:function(){return this.nextBlocky?this.nextBlocky.nextestBlocky:this}},{key:"childBlockys",get:function(){return this.childBlocky?[this.childBlocky].concat(this.childBlocky.nextBlockys):[]}}]),m}();k(_,"TYPE",Object.defineProperties({},(0,f.objMap)(i.default,function(t){return{get:function(){return t}}}))),k(_,"LINK_TYPE",Object.defineProperties({},(0,f.objMap)(b,function(t){return{get:function(){return t}}}))),customElements.define(_.nodeName,_);var m=_;o.default=m},{"./event-handler":3,"./shape":4,"./stdlib":5,"./types":6}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.triggerDOMEvent=function(t,e,o){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!0,!0,o),t.dispatchEvent(n)},o.addListener=function(e,t,o,n){((0,i.isarray)(t)?t:[t]).forEach(function(t){e.addEventListener(t,o,n)})},o.removeListener=function(e,t,o){((0,i.isarray)(t)?t:[t]).forEach(function(t){e.removeEventListener(t,o)})},o.addGlobalListener=function(t,o,n){((0,i.isarray)(t)?t:[t]).forEach(function(t){var e=a[t];(0,i.isfunc)(e)&&document.body.removeEventListener(t,e),document.body.addEventListener(t,o,n),a[t]=o})},o.removeGlobalListener=function(t){((0,i.isarray)(t)?t:[t]).forEach(function(t){var e=a[t];(0,i.isfunc)(e)&&(document.body.removeEventListener(t,e),delete a[t])})},o.TYPES=void 0;var i=t("./stdlib"),a={};o.TYPES={dragStart:["touchstart","mousedown"],dragMove:["touchmove","mousemove"],dragEnd:["touchend","mouseup","mouseleave"]}},{"./stdlib":5}],4:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.shapeExpressionHole=o.shapeExpression=o.shapeContained=o.shapeComposite=o.shapeStackBottom=o.shapeStackMiddle=o.shapeStackTop=void 0;var b=t("./stdlib"),n=i(t("./types")),u=i(t("../styles/blocky.scss"));function i(t){return t&&t.__esModule?t:{default:t}}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var o=[],n=!0,i=!1,a=void 0;try{for(var r,l=t[Symbol.iterator]();!(n=(r=l.next()).done)&&(o.push(r.value),!e||o.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}return o}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l="fill",g="wrap",p="block",y="shape",f=["topLeft","topRight","bottomLeft","bottomRight","fill"].reduce(function(t,e,o){return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({},t,r({},e,o))},{}),c={topBump:{area:f.topLeft,translate:[0,"-50%"],size:[12,5],path:"M0 2.5 h5 q-.5 -1.5,1 -1.5 q1.5 0,1 1.5 h5 v2.5 h-12"},rightContainer:[{area:f.topRight,translate:["100%",0],size:[12,5],path:"M0 0 h12 v3 h-5 q.5 -1.5,-1 -1.5 q-1.5 0,-1 1.5 h-3 a2 2,0 0 0,-2 2"},{area:f.bottomRight,translate:["100%",0],size:[12,5],path:"M0 0 a2 2,0 0 0,2 2 h10 v3 h-12"}],bottomIndent:{area:f.bottomLeft,translate:[0,0],size:[12,5],path:"M0 0 v5 h5 q-.5 -1.5,1 -1.5 q1.5 0,1 1.5 h5 v-5 h12",noBackground:!0},leftBump:{area:f.topLeft,translate:["-50%","75%"],rotate:"-90deg",size:[12,5],path:"M0 2.5 h5 q-.5 -1.5,1 -1.5 q1.5 0,1 1.5 h5 v2.5 h-12"}};function _(t,e,o){var n=1<arguments.length&&void 0!==e?e:{},i=2<arguments.length&&void 0!==o?o:[],a=document.createElement(t);for(var r in n)a.setAttribute(r,n[r]);return i.forEach(function(t){return a.classList.add(t)}),a}function k(t){return _("div",{"data-row":0<arguments.length&&void 0!==t?t:""})}function m(){return _("div",{},[l])}function x(t,e){var o=0<arguments.length&&void 0!==t?t:"",n=1<arguments.length&&void 0!==e?e:o,i=_("div",{"data-container":o});return(0,b.isstr)(n)&&i.appendChild(_("slot",{name:n})),i}function T(t){return _("div",{"data-highlight":0<arguments.length&&void 0!==t?t:""})}function s(t,e){var o=1<arguments.length&&void 0!==e?e:[],n=_("template"),i=_("div",{"data-type":t},[p]),a=_("div",{},[y]),r=x("shape"),l=k("top"),c=k("middle"),s=k("bottom"),d=x("next"),h=x("child");return l.appendChild(m()),c.appendChild(x("children","")),s.appendChild(m()),r.appendChild(T("last")),r.appendChild(T("parent")),r.appendChild(T("next")),r.appendChild(T("child")),o.flat().forEach(function(t){var e=t.area,o=function(t){var e=t.area,o=v(t.translate,2),n=o[0],i=o[1],a=t.rotate,r=t.size,l=v(r=void 0===r?[]:r,2),c=l[0],s=void 0===c?1:c,d=l[1],h=void 0===d?1:d,u=t.path,p=t.noBackground,y=_("div",{},[g]),f=_("svg",{"data-area":e,viewBox:"0 0 ".concat(s," ").concat(h),"fill-rule":"evenodd"});if(f.style.transform=" translate(".concat(n,", ").concat(i,")"),a&&(f.style.transform+=" rotate(".concat(a,")")),(0,b.isset)(u)){var k=_("path",{d:u});f.appendChild(k)}return p&&(y.style.background="none"),y.appendChild(f),y}(t);switch(e){case f.topLeft:l.insertBefore(o,l.firstChild);break;case f.topRight:l.appendChild(o);break;case f.bottomLeft:s.insertBefore(o,s.firstChild);break;case f.bottomRight:s.appendChild(o)}}),r.appendChild(l),r.appendChild(c),r.appendChild(s),a.appendChild(r),a.appendChild(h),i.appendChild(a),i.appendChild(d),n.innerHTML="\n    <style>".concat(u.default.innerHTML,"</style>\n    ").concat(i.outerHTML,"\n  "),n}var d=s(n.default.stackTop,[c.bottomIndent]);o.shapeStackTop=d;var h=s(n.default.stackMiddle,[c.topBump,c.bottomIndent]);o.shapeStackMiddle=h;var B=s(n.default.stackBottom,[c.topBump]);o.shapeStackBottom=B;var E=s(n.default.composite,[c.topBump,c.bottomIndent,c.rightContainer]);o.shapeComposite=E;var P=s(n.default.contained,[c.topBump,c.bottomIndent]);o.shapeContained=P;var O=s(n.default.expression,[c.leftBump]);o.shapeExpression=O;var w=s(n.default.expressionHole,[c.leftBump]);o.shapeExpressionHole=w;var Y=s;o.default=Y},{"../styles/blocky.scss":9,"./stdlib":5,"./types":6}],5:[function(t,e,o){"use strict";function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}Object.defineProperty(o,"__esModule",{value:!0}),o.objMap=o.pointDist=o.dist=o.stdFloat=o.isfunc=o.isarray=o.isstr=o.isset=void 0;o.isset=function(t){return void 0!==t};o.isstr=function(t){return"string"==typeof t};o.isarray=function(t){return Array.isArray(t)};o.isfunc=function(t){return"function"==typeof t};o.stdFloat=function(t){return parseFloat(t||0)};function n(t,e){return Math.sqrt(t*t+e*e)}o.dist=n;o.pointDist=function(t,e){return n(t[0]-e[0],t[1]-e[1])};o.objMap=function(o,n,t){var i=2<arguments.length&&void 0!==t?t:o;return Object.keys(o).reduce(function(t,e){return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({},t,r({},e,n.bind(i)(o[e],e,o)))},{})}},{}],6:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n={stackTop:"stackTop",stackMiddle:"stackMiddle",stackBottom:"stackBottom",composite:"composite",contained:"contained",expression:"expression",expressionHole:"expressionHole"};Object.freeze(n);var i=n;o.default=i},{}],7:[function(t,e,o){e.exports=function(t,e){var o=e||document;if(o.createStyleSheet){var n=o.createStyleSheet();return n.cssText=t,n.ownerNode}var i=o.getElementsByTagName("head")[0],a=o.createElement("style");return a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(o.createTextNode(t)),i.appendChild(a),a},e.exports.byUrl=function(t){if(document.createStyleSheet)return document.createStyleSheet(t).ownerNode;var e=document.getElementsByTagName("head")[0],o=document.createElement("link");return o.rel="stylesheet",o.href=t,e.appendChild(o),o}},{}],8:[function(t,e,o){e.exports=t("cssify")},{cssify:7}],9:[function(t,e,o){e.exports=t("sassify")('blocky-block {   position: absolute;   top: 0;   left: 0;   height: 0;   vertical-align: middle;   display: inline-block;   pointer-events: all;   z-index: 1; }   blocky-block[disabled] {     pointer-events: none; }   blocky-block[type="expressionHole"],   blocky-block > blocky-block {     position: relative;     height: auto; }   blocky-block[type="expressionHole"] {     margin: 0 5px;     pointer-events: none; }     blocky-block[type="expressionHole"]:has(blocky-block) {       pointer-events: all; }  :host(blocky-block[attract="last"]) .block [data-highlight="last"] {   opacity: 1; }  :host(blocky-block[attract="parent"]) .block [data-highlight="parent"] {   opacity: 1; }  :host(blocky-block[attract="next"]) .block [data-highlight="next"] {   opacity: 1; }  :host(blocky-block[attract="child"]) .block [data-highlight="child"] {   opacity: 1; }  :host(blocky-block[child-linked]) [data-type="expressionHole"] [data-container="shape"] {   display: none !important; }  :host(blocky-block[child-linked]) [data-type="expressionHole"] [data-container="child"] {   height: auto !important; }  :host(blocky-block) .shape:hover {   filter: brightness(0.975); }  :host(blocky-block[focused]) .shape {   filter: brightness(0.9); }  :host(blocky-block) [data-container="shape"] {   filter: brightness(calc(1 + .05*(2*(.5 - var(--layers-odd, 0))))); }  :host(blocky-block) .block {   --size: 20px;   --width: calc(5 * var(--size));   --height: calc(2.5 * var(--size));   --color: #eee;   --highlight-color: rgba(255, 200, 50, .5);   position: relative;   min-width: var(--width, 0);   min-height: var(--height, 0);   display: flex;   flex-flow: column;   fill: var(--color);   z-index: 0;   user-select: none; }   :host(blocky-block) .block .shape {     position: relative;     display: flex;     flex-flow: row; }   :host(blocky-block) .block [data-container] {     position: relative; }   :host(blocky-block) .block [data-highlight] {     position: absolute;     background-color: var(--highlight-color);     opacity: 0;     z-index: 21; }     :host(blocky-block) .block [data-highlight][data-highlight="last"], :host(blocky-block) .block [data-highlight][data-highlight="next"] {       right: 0;       left: 0;       height: calc(var(--size) / 2); }     :host(blocky-block) .block [data-highlight][data-highlight="last"] {       top: 0;       transform: translateY(-50%); }     :host(blocky-block) .block [data-highlight][data-highlight="next"] {       bottom: 0;       transform: translateY(50%); }     :host(blocky-block) .block [data-highlight][data-highlight="parent"], :host(blocky-block) .block [data-highlight][data-highlight="child"] {       top: 0;       bottom: 0;       width: calc(var(--size) / 2); }     :host(blocky-block) .block [data-highlight][data-highlight="parent"] {       left: 0;       transform: translateX(-50%); }     :host(blocky-block) .block [data-highlight][data-highlight="child"] {       right: 0;       transform: translateX(50%); }   :host(blocky-block) .block[data-type="stackTop"] {     --color: #fcc; }     :host(blocky-block) .block[data-type="stackTop"] [data-container="child"] {       display: none; }   :host(blocky-block) .block[data-type="stackMiddle"] {     --color: #ffc; }     :host(blocky-block) .block[data-type="stackMiddle"] [data-container="child"] {       display: none; }   :host(blocky-block) .block[data-type="stackBottom"] {     --color: #cfc; }     :host(blocky-block) .block[data-type="stackBottom"] [data-container="next"],     :host(blocky-block) .block[data-type="stackBottom"] [data-container="child"] {       display: none; }   :host(blocky-block) .block[data-type="composite"] {     --color: #cff; }     :host(blocky-block) .block[data-type="composite"] [data-container="child"] {       margin: calc(var(--size) * .6) 0; }   :host(blocky-block) .block[data-type="contained"] {     --color: #ccf; }     :host(blocky-block) .block[data-type="contained"] [data-container="child"] {       display: none; }   :host(blocky-block) .block[data-type="expression"] {     --color: #fcf; }     :host(blocky-block) .block[data-type="expression"] [data-container="child"],     :host(blocky-block) .block[data-type="expression"] [data-container="next"] {       display: none; }   :host(blocky-block) .block[data-type="expressionHole"] {     --color: #ccc; }     :host(blocky-block) .block[data-type="expressionHole"] .shape {       flex-direction: column-reverse; }     :host(blocky-block) .block[data-type="expressionHole"] [data-container="child"] {       position: relative;       height: 0; }     :host(blocky-block) .block[data-type="expressionHole"] [data-container="next"] {       display: none; }     :host(blocky-block) .block[data-type="expressionHole"] [data-highlight="child"] {       left: 0;       transform: none;       width: auto; }   :host(blocky-block) .block [data-container="shape"] {     position: relative;     min-width: var(--width, 0);     min-height: var(--height, 0);     display: inline-flex;     flex-flow: column;     z-index: 10; }     :host(blocky-block) .block [data-container="shape"] [data-row] {       display: flex;       flex-flow: row;       z-index: 10; }       :host(blocky-block) .block [data-container="shape"] [data-row][data-row="middle"] {         margin: calc(var(--size) / -2) 0;         padding: 0 1em;         box-sizing: border-box;         background-color: var(--color);         flex: 1 1 0%;         display: flex;         flex-flow: row;         align-items: center;         justify-content: center;         z-index: 11; }       :host(blocky-block) .block [data-container="shape"] [data-row] .fill {         height: var(--size);         background-color: var(--color);         flex: 1 1 0%;         pointer-events: none; }         :host(blocky-block) .block [data-container="shape"] [data-row] .fill:not(:last-child) {           margin-right: -1px; }         :host(blocky-block) .block [data-container="shape"] [data-row] .fill:not(:first-child) {           margin-left: -1px; }       :host(blocky-block) .block [data-container="shape"] [data-row] .wrap {         height: var(--size);         background-color: var(--color);         pointer-events: none; }         :host(blocky-block) .block [data-container="shape"] [data-row] .wrap svg {           height: 100%;           display: inline-block; } ')},{sassify:8}]},{},[1]);
